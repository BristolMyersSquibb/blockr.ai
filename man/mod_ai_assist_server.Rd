% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mod-ai-assist.R
\name{mod_ai_assist_server}
\alias{mod_ai_assist_server}
\title{AI Assist Module Server}
\usage{
mod_ai_assist_server(
  id,
  get_data,
  block_ctor,
  block_name,
  on_apply,
  get_current_args = NULL,
  model = blockr.core::blockr_option("ai_model", "gpt-4o-mini"),
  max_iterations = 5
)
}
\arguments{
\item{id}{Module namespace ID}

\item{get_data}{Reactive function that returns the input data.frame}

\item{block_ctor}{Block constructor function (e.g., new_filter_block)}

\item{block_name}{Character string name of the block (for LLM prompt)}

\item{on_apply}{Callback function that receives discovered args.
Should map args to the block's reactive values.}

\item{model}{LLM model to use (default: "gpt-4o-mini")}

\item{max_iterations}{Maximum LLM iterations (default: 5)}
}
\value{
NULL (uses callback for communication)
}
\description{
Server logic for the AI assist module. Handles chat messages,
calls \code{discover_block_args()} to get the correct arguments, and invokes
the \code{on_apply} callback with the discovered arguments.
}
\examples{
\dontrun{
# In block server:
mod_ai_assist_server(
  "ai",
  get_data = data,
  block_ctor = new_filter_block,
  block_name = "new_filter_block",
  on_apply = function(args) {
    r_conditions(args$conditions)
  }
)
}

}
