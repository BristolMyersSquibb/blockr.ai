% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/discover-block-args.R
\name{discover_block_args}
\alias{discover_block_args}
\title{Discover block arguments using LLM}
\usage{
discover_block_args(
  prompt,
  data,
  block_ctor,
  block_name = NULL,
  max_iterations = 5,
  model = blockr.core::blockr_option("ai_model", "gpt-4o-mini"),
  verbose = TRUE
)
}
\arguments{
\item{prompt}{User's natural language description of the task}

\item{data}{Input data (data.frame)}

\item{block_ctor}{Block constructor function (e.g., new_summarize_block)}

\item{block_name}{Name of the block (for display in prompt)}

\item{max_iterations}{Maximum attempts (default: 5)}

\item{model}{LLM model to use (default: "gpt-4o-mini")}

\item{verbose}{Print progress messages (default: TRUE)}
}
\value{
List with:
\itemize{
\item args: The successful arguments (named list), or NULL if failed
\item result: The resulting data.frame (for validation), or NULL
\item success: Logical indicating if discovery succeeded
\item iterations: Number of iterations used
\item code: The R code that generated the args
\item messages: Full conversation history (for debugging)
}
}
\description{
Takes a natural language prompt and uses an LLM to figure out the correct
arguments for a block constructor. Validates by running the block headlessly.
}
\examples{
\dontrun{
result <- discover_block_args(
  prompt = "Calculate mean Sepal.Length grouped by Species",
  data = iris,
  block_ctor = blockr.dplyr::new_summarize_block,
  block_name = "new_summarize_block"
)

if (result$success) {
  print(result$args)
  print(result$result)
}
}

}
